(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{902:(e,n,t)=>{Promise.resolve().then(t.bind(t,1254))},1254:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>eT});var r=t(5155),i=t(2115),l=t(4581),o=t(1169),s=t(529),c=t(8200),a=t(1116),d=t(9990),u=t(7217),h=t(5453),x=t(6786),m=t(9373),y=t(6715),g=t(5041);let j="https://api.rach.io/1/public";if(!j)throw Error("API_BASE_URL is not defined in environment variables.");let A=async()=>{let e=k(),n=await fetch("".concat(j,"/person/info"),{method:"GET",cache:"no-cache",credentials:"include",headers:{Authorization:"Bearer ".concat(e)}});if(!n.ok)throw Error("Error getting entity ID: ".concat(n.status));return n.json()},p=async e=>{let n=k(),t=await fetch("".concat(j,"/person/").concat(e),{method:"GET",cache:"no-cache",credentials:"include",headers:{Authorization:"Bearer ".concat(n)}}),r=await t.json(),i=e=>({id:e.id,name:e.name,imageUrl:e.imageUrl,enabled:e.enabled,zoneNumber:e.zoneNumber});return{id:r.id,fullName:r.fullName,devices:Array.isArray(r.devices)?r.devices.map(e=>({id:e.id,name:e.name,latitude:e.latitude,longitude:e.longitude,zones:Array.isArray(e.zones)?e.zones.filter(e=>e.enabled).sort((e,n)=>e.zoneNumber-n.zoneNumber).map(i):[]})):[]}},v=async e=>{let n=k(),t=await fetch("".concat(j,"/device/stop_water"),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"include",headers:{Authorization:"Bearer ".concat(n)},body:JSON.stringify({id:e})});if(!t.ok)throw Error("Error stopping watering: ".concat(t.status))},f=async(e,n)=>{let t=k(),r=await fetch("".concat(j,"/zone/start"),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"include",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify({id:e,duration:n})});if(!r.ok)throw Error("Error starting watering: ".concat(r.status))},b=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=S(),t=!!n&&e,r=(0,m.I)({queryKey:["entity",n],queryFn:()=>n?p(n):Promise.reject("No entity ID"),enabled:t,retry:2});return n?r:{data:null,isLoading:!1,error:null}},w=()=>{let e=(0,y.jE)();return(0,g.n)({mutationFn:async e=>{await v(e)},onSuccess:()=>{e.invalidateQueries({queryKey:["deviceInfo"]})},onError:e=>{throw console.error("Failed to stop watering:",e.message),e},retry:1})},I=()=>{let e=(0,y.jE)();return(0,g.n)({mutationFn:async e=>{let{zoneId:n,duration:t}=e;await f(n,t)},onSuccess:()=>{e.invalidateQueries({queryKey:["deviceInfo"]})},onError:e=>{throw console.error("Failed to start zone:",e.message),e}})},T=(0,h.v)()((0,x.lt)(e=>({id:void 0,token:null,setAuthToken:async n=>{e(e=>({...e,token:n}));try{let{id:n}=await A();e(e=>({...e,id:n}))}catch(n){e(e=>({...e,token:null,id:void 0}))}},clearAuth:()=>e({id:void 0,token:null}),setAuthId:n=>e({id:n})}))),z=()=>T(e=>e.id),C=()=>T(e=>e.setAuthToken),S=()=>T.getState().id,k=()=>T.getState().token,E=()=>!!z(),R=()=>!!S();var N=t(1803),O=t(7348),U=t(7918),W=t(1960);let D=()=>{let e=C(),[n,t]=(0,i.useState)("761e1ee9-6391-4821-b31e-056c03e1b316"),[o,s]=(0,i.useState)(null),d=async t=>{t.preventDefault(),await e(n),s(R()?null:"Invalid API token. Please try again.")};return(0,r.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",px:2},children:(0,r.jsx)(l.A,{component:"form",onSubmit:d,sx:{maxWidth:400},children:(0,r.jsxs)(N.A,{spacing:2,children:[(0,r.jsxs)(l.A,{children:[(0,r.jsx)(O.A,{htmlFor:"apiKey",children:"Enter your API Token"}),(0,r.jsxs)(l.A,{sx:{display:"flex",gap:1},children:[(0,r.jsx)(U.A,{id:"apiKey",type:"text",placeholder:"Enter your API key",fullWidth:!0,value:n,size:"small",onChange:e=>{t(e.target.value),s(null)}}),(0,r.jsx)(c.A,{variant:"contained",type:"submit",children:"Submit"})]})]}),o&&(0,r.jsx)(a.A,{color:"error",variant:"body2",children:o}),(0,r.jsx)(W.A,{href:"https://rachio.readme.io/docs/authentication",target:"_blank",rel:"noopener noreferrer",underline:"hover",children:"Locate your token"}),(0,r.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"Your Rachio API token is never stored on the server and only used for the duration of your session. Accessing the site over a public network is not recommended."})]})})})};var F=t(6278),_=t(4492),q=t(9927),P=t(1977);let B={blowOutTime:35,recoveryTime:300},K=(0,i.createContext)({winterizeSettings:B,setWinterizeSettings:()=>{}}),G={loading:!1,error:null,hydrated:!1,devices:null,zones:null,selectedDevice:null,activeStep:null,winterizeSequence:[]},L=(0,h.v)()((0,x.lt)(e=>({...G,init:n=>e({...G,devices:n}),actions:{setSelectedDevice:n=>e(e=>({...e,selectedDevice:n,zones:n.zones})),addWinterizeSteps:n=>e(e=>({...e,winterizeSequence:[...e.winterizeSequence,...n]})),removeWinterizeSteps:n=>{e(e=>({winterizeSequence:e.winterizeSequence.filter(e=>!n.some(n=>n.id===e.id))}))},updateWinterizeStep:(n,t)=>e(e=>({...e,winterizeSequence:e.winterizeSequence.map(e=>e.id===n?{...e,...t}:e)})),setActiveStep:n=>e(e=>({...e,activeStep:n})),resetWinterizeSequence:()=>e(e=>({...e,winterizeSequence:G.winterizeSequence}))}}))),Z=()=>{let e=R(),n=L(e=>e.hydrated),t=L(e=>e.loading),{data:r,isLoading:l,error:o}=b({enabled:e&&!n&&!t});if((0,i.useEffect)(()=>{var i;if(!n&&e){if(t&&!l){L.setState({loading:!1});return}if(l){L.setState({loading:!0,error:null});return}if(o){L.setState({loading:!1,error:o.message});return}if(null==r?void 0:r.devices){let{init:e}=L.getState();e(r.devices),L.setState({hydrated:!0,loading:!1,error:null})}!r||(null===(i=r.devices)||void 0===i?void 0:i.length)||L.setState({hydrated:!0,loading:!1,error:"No devices found."})}},[n,t,e,l,r,o]),!e)return},Q=e=>(Z(),L(e)),V=()=>Q(e=>e.devices),Y=()=>Q(e=>e.zones),H=()=>Q(e=>e.selectedDevice),J=()=>Q(e=>e.activeStep),X=()=>Q(e=>!!e.activeStep),M=()=>Q(e=>e.winterizeSequence),$=()=>Q(e=>e.actions),ee=e=>{let{devices:n,onChange:t}=e;return(0,r.jsxs)("select",{onChange:function(e){let r=e.target.value,i=n.find(e=>e.id===r);i&&t(i)},defaultValue:"",children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"Select device"}),n.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))]})};var en=t(7976),et=t(6033),er=t(404),ei=t(4263),el=t(9776),eo=t(3909);let es={isTraining:!1,isRecovering:!1,blowOutTime:0,recoveryTime:0,cycleId:"",currentIndex:0,nextIndex:1,zoneCount:0},ec=(e,n)=>{switch(n.type){case"START_TRAINING":return{...e,isTraining:!0,cycleId:crypto.randomUUID(),zoneCount:n.zoneCount};case"TICK":if(e.isRecovering)return{...e,recoveryTime:e.recoveryTime+1};return{...e,blowOutTime:e.blowOutTime+1};case"SWITCH_TO_RECOVERY":return{...e,isRecovering:!0};case"NEXT_ZONE":if(e.isRecovering)return{...e,isRecovering:!1,blowOutTime:0,recoveryTime:0,currentIndex:e.nextIndex,nextIndex:(e.nextIndex+1)%e.zoneCount,cycleId:0===e.nextIndex?crypto.randomUUID():e.cycleId};return e;case"SKIP_ZONE":return{...e,nextIndex:(e.nextIndex+1)%e.zoneCount};case"RESET":return es;default:return e}},ea=()=>{let{addWinterizeSteps:e}=$();return(0,i.useCallback)(n=>{let{zone:t,blowOutTime:r,recoveryTime:i,selected:l=!0,cycleId:o}=n;e([{id:crypto.randomUUID(),name:t.name,active:!1,selected:l,blowOutTime:r,recoveryTime:i,zone:t,cycleId:o}])},[e])},ed=()=>{var e;let[n,t]=(0,i.useReducer)(ec,es),r=w(),l=I(),o=null!==(e=Y())&&void 0!==e?e:[],s=H(),c=ea();if((0,i.useEffect)(()=>{if(!n.isTraining||0===o.length)return;let e=setInterval(()=>{n.isRecovering?t({type:"TICK"}):n.blowOutTime<600&&t({type:"TICK"})},1e3);return()=>clearInterval(e)},[o.length,n.isTraining,n.isRecovering,n.blowOutTime]),!o||0===o.length)return{error:"No zones available for training."};if(!s)return{error:"No selected device available for training."};let a=o[n.currentIndex]||null,d=o[n.nextIndex]||null,u=n.nextIndex===n.currentIndex,h=async()=>{await l.mutateAsync({zoneId:o[0].id,duration:600}),t({type:"START_TRAINING",zoneCount:o.length})},x=async()=>{if(!a)return;if(u){m();return}if(!n.isRecovering){await r.mutateAsync(s.id),t({type:"SWITCH_TO_RECOVERY"});return}c({zone:a,blowOutTime:n.blowOutTime,recoveryTime:n.recoveryTime,cycleId:n.cycleId});let e=(n.currentIndex+1)%o.length;if(n.nextIndex!==e){let t=e;for(;t!==n.nextIndex;)c({zone:o[t],blowOutTime:0,recoveryTime:0,cycleId:n.cycleId,selected:!1}),t=(t+1)%o.length}await l.mutateAsync({zoneId:o[n.nextIndex].id,duration:600}),t({type:"NEXT_ZONE"})},m=async()=>{await r.mutateAsync(s.id),a&&c({zone:a,blowOutTime:n.blowOutTime,recoveryTime:n.recoveryTime||0,cycleId:n.cycleId}),o.slice(n.currentIndex+1).forEach(e=>{c({zone:e,blowOutTime:0,recoveryTime:0,selected:!1,cycleId:n.cycleId})}),t({type:"RESET"})};return{currentZone:a,nextZone:d,blowOutTime:n.blowOutTime,recoveryTime:n.recoveryTime,isTraining:n.isTraining,isRecovering:n.isRecovering,noMoreZones:u,startTraining:h,handleNext:x,handleSkip:()=>{d&&n.nextIndex!==n.currentIndex&&t({type:"SKIP_ZONE"})},completeTraining:m,error:null}},eu=e=>{let{onClose:n}=e,{currentZone:t,nextZone:i,blowOutTime:o,recoveryTime:s,isTraining:d,isRecovering:u,startTraining:h,completeTraining:x,handleNext:m,handleSkip:y,noMoreZones:g,error:j}=ed();return j?(0,r.jsx)("p",{children:j}):(0,r.jsx)(l.A,{sx:{p:4,maxWidth:600,margin:"0 auto"},children:d?(0,r.jsxs)(r.Fragment,{children:[t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{variant:"subtitle1",fontWeight:"bold",align:"left",children:"Current zone"}),(0,r.jsxs)(l.A,{textAlign:"center",mb:4,p:2,border:1,borderColor:"grey.300",borderRadius:2,children:[(0,r.jsx)(a.A,{variant:"h4",fontWeight:"bold",mb:2,children:t.name}),(0,r.jsxs)(en.A,{sx:{width:"66%"},align:"center",children:[(0,r.jsx)(et.A,{children:(0,r.jsxs)(er.A,{children:[(0,r.jsx)(ei.A,{align:"center",size:"small",sx:{backgroundColor:u?"transparent":"grey.700",color:u?"inherit":"white"},children:"Blow out"}),(0,r.jsx)(ei.A,{align:"center",size:"small",sx:{backgroundColor:u?"grey.700":"transparent",color:u?"white":"inherit"},children:"Recovery"})]})}),(0,r.jsx)(el.A,{children:(0,r.jsxs)(er.A,{children:[(0,r.jsx)(ei.A,{align:"center",children:(0,r.jsx)(a.A,{variant:"h5",fontWeight:"bold",color:u?"text.secondary":"text.primary",children:o})}),(0,r.jsx)(ei.A,{align:"center",children:(0,r.jsx)(a.A,{variant:"h5",fontWeight:"bold",color:u?"text.primary":"text.secondary",children:s})})]})})]}),(0,r.jsx)(l.A,{mt:3,children:(0,r.jsx)(c.A,{variant:"contained",color:"primary",sx:{width:"66%"},size:"large",onClick:m,children:"Next"})})]})]}):null,t?g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{variant:"subtitle1",fontWeight:"bold",align:"left",children:"Up next"}),(0,r.jsx)(l.A,{textAlign:"center",mb:4,p:2,border:1,borderColor:"grey.300",borderRadius:2,children:(0,r.jsx)(a.A,{variant:"body1",textAlign:"center",color:"text.secondary",sx:{py:2},children:"No more zones to skip. Press Next or Complete to finish training."})})]}):i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{variant:"subtitle1",fontWeight:"bold",align:"left",children:"Up next"}),(0,r.jsx)(l.A,{textAlign:"center",mb:4,p:2,border:1,borderColor:"grey.300",borderRadius:2,children:(0,r.jsxs)(l.A,{display:"flex",justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(a.A,{variant:"h6",fontWeight:"bold",textAlign:"center",flexGrow:1,sx:{ml:9},children:i.name}),(0,r.jsxs)(c.A,{onClick:y,variant:"text",sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:"auto",ml:2},children:[(0,r.jsx)(eo.A,{fontSize:"large"}),(0,r.jsx)(a.A,{variant:"caption",color:"text.secondary",children:"Skip"})]})]})})]}):null:null,(0,r.jsx)(l.A,{mt:8,display:"flex",justifyContent:"center",children:(0,r.jsx)(c.A,{variant:"contained",color:"primary",sx:{width:"66%"},size:"large",onClick:function(){null==x||x(),n()},children:"Complete"})})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.A,{mb:4,children:[(0,r.jsx)(a.A,{variant:"body1",mb:2,children:'Before we start, ensure your air compressor is ready and all hoses are securely connected. The training and blow out will will start with your first zone and begin immediately once you press "Start."'}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:'Press "Next" to move on to the next step or zone.'}),(0,r.jsx)("li",{children:'Press "Skip" to skip one or more zones while the current zone is in progress.'}),(0,r.jsx)("li",{children:'Press "Complete" to finish the training.'})]}),(0,r.jsx)(a.A,{variant:"body1",mt:2,children:"Upon completion, fine-tune any learned values in the table as needed. Edits are saved instantly."})]}),(0,r.jsx)(l.A,{display:"flex",justifyContent:"center",children:(0,r.jsx)(c.A,{variant:"contained",color:"primary",onClick:h,children:"Start"})})]})})};var eh=t(4987),ex=t(16);let em=()=>{let{addWinterizeSteps:e}=$();return(0,i.useCallback)((n,t,r)=>{let i=Array.isArray(n)?n:[n],l=crypto.randomUUID();e(i.map(e=>({id:crypto.randomUUID(),name:e.name,active:!1,selected:!0,blowOutTime:t,recoveryTime:r,cycleId:l,zone:e})))},[e])},ey=()=>{let{addWinterizeSteps:e}=$(),n=M();return(0,i.useCallback)(t=>{let r=n.filter(e=>e.cycleId===t);if(0===r.length)return;let i=crypto.randomUUID();e(r.map(e=>({...e,id:crypto.randomUUID(),cycleId:i})))},[e,n])},eg=()=>{let e=H(),n=M(),t=X(),r=J(),{setActiveStep:l}=$(),o=I(),s=w(),c=(0,i.useRef)(0),a=(0,i.useRef)(null),d=async()=>{if(!e)return;let t=n[c.current];if(!t){u();return}l(t);try{await o.mutateAsync({zoneId:t.zone.id,duration:t.blowOutTime})}catch(e){console.error("Failed to start zone:",e),u();return}a.current=setTimeout(async()=>{await s.mutateAsync(e.id),a.current=setTimeout(()=>{c.current+=1,l(null),d()},1e3*t.recoveryTime)},1e3*t.blowOutTime)},u=async()=>{e&&(a.current&&clearTimeout(a.current),a.current=null,r&&await s.mutateAsync(e.id),l(null),c.current=0)};return(0,i.useEffect)(()=>()=>{a.current&&clearTimeout(a.current),a.current=null},[]),{isBlowoutRunning:t,activeStep:r,startBlowout:()=>{t||0===n.length||(c.current=0,d())},stopBlowout:u}};var ej=t(3613),eA=t(7890);let ep=e=>{let{step:n,isActive:t}=e,{updateWinterizeStep:i}=$();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ei.A,{align:"center",children:t&&"â–¶"}),(0,r.jsx)(ei.A,{children:(0,r.jsx)(ej.A,{checked:n.selected,onChange:function(e){i(n.id,{selected:e.target.checked})}})}),(0,r.jsx)(ei.A,{children:n.name}),(0,r.jsx)(ei.A,{align:"center",children:(0,r.jsx)(eA.A,{type:"number",value:n.blowOutTime,onChange:function(e){i(n.id,{blowOutTime:parseInt(e.target.value,10)})},size:"small"})}),(0,r.jsx)(ei.A,{align:"center",children:(0,r.jsx)(eA.A,{type:"number",value:n.recoveryTime,onChange:function(e){i(n.id,{recoveryTime:parseInt(e.target.value,10)})},size:"small"})})]})},ev=()=>{let{winterizeSettings:e,setWinterizeSettings:n}=(0,i.useContext)(K);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(eA.A,{type:"number",id:"default-blow-out-time",value:null==e?void 0:e.blowOutTime,onChange:t=>{var r;r=Number(t.target.value),e&&n({...e,blowOutTime:r})},size:"small"})})},ef=()=>{let{winterizeSettings:e,setWinterizeSettings:n}=(0,i.useContext)(K);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(eA.A,{type:"number",id:"default-recovery-time",value:null==e?void 0:e.recoveryTime,onChange:t=>{var r;r=Number(t.target.value),e&&n({...e,recoveryTime:r})},size:"small"})})},eb=(0,eh.Ay)(er.A)(()=>({"&.active":{backgroundColor:"#d1f7c4"}})),ew=()=>{let{blowOutTime:e,recoveryTime:n}=(0,i.useContext)(K).winterizeSettings,t=H(),o=Y(),s=M(),{resetWinterizeSequence:a}=$(),d=em(),u=ey(),h=function(){let e=M(),{removeWinterizeSteps:n}=$();return function(t){n(e.filter(e=>e.cycleId===t))}}(),{isBlowoutRunning:x,activeStep:m,startBlowout:y,stopBlowout:g}=eg();return t&&o?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("h2",{children:["Device: ",t.name]}),(0,r.jsxs)(en.A,{size:"small",sx:{border:"1px solid #ddd",borderRadius:"3px",mb:5},children:[(0,r.jsxs)(et.A,{children:[(0,r.jsxs)(er.A,{children:[(0,r.jsx)(ei.A,{colSpan:3}),(0,r.jsx)(ei.A,{colSpan:2,align:"center",children:"Time (seconds)"})]}),(0,r.jsxs)(er.A,{children:[(0,r.jsx)(ei.A,{sx:{width:"5%"}}),(0,r.jsx)(ei.A,{sx:{width:"5%"},children:"Enabled"}),(0,r.jsx)(ei.A,{sx:{width:"50%"},children:"Zone name"}),(0,r.jsx)(ei.A,{sx:{width:"20%"},align:"center",children:"Blow out"}),(0,r.jsx)(ei.A,{sx:{width:"20%"},align:"center",children:"Recovery"})]})]}),(0,r.jsx)(el.A,{children:function(){let e=new Set,n=0;return(0,r.jsx)(r.Fragment,{children:s.map(t=>{let l=(null==m?void 0:m.id)===t.id,o=!e.has(t.cycleId);return o&&(e.add(t.cycleId),n+=1),(0,r.jsxs)(i.Fragment,{children:[o&&(0,r.jsxs)(er.A,{sx:{backgroundColor:"#f5f5f5",borderTop:"2px solid #ddd",borderBottom:"2px solid #ddd"},children:[(0,r.jsx)(ei.A,{}),(0,r.jsxs)(ei.A,{colSpan:100,className:"py-2 px-4",children:[(0,r.jsxs)("strong",{children:["Blow out cycle ",n]}),(0,r.jsx)(c.A,{onClick:()=>u(t.cycleId),sx:{marginLeft:3},children:"Duplicate cycle"}),(0,r.jsx)(c.A,{onClick:()=>h(t.cycleId),sx:{float:"right"},children:"Delete cycle"})]})]}),(0,r.jsx)(eb,{className:l?"active":"",children:(0,r.jsx)(ep,{step:t,isActive:l})})]},t.id)})})}()}),(0,r.jsxs)(ex.A,{children:[(0,r.jsxs)(er.A,{"aria-label":"Add a new cycle",sx:{backgroundColor:"#f5f5f5",borderTop:"2px solid #ddd",borderBottom:"2px solid #ddd"},children:[(0,r.jsx)(ei.A,{colSpan:3,children:(0,r.jsx)(c.A,{type:"button",onClick:()=>{d(o,e,n)},sx:{float:"right"},children:"Add new cycle"})}),(0,r.jsx)(ei.A,{align:"center",children:(0,r.jsx)(ev,{})}),(0,r.jsx)(ei.A,{align:"center",children:(0,r.jsx)(ef,{})})]}),(0,r.jsx)(er.A,{children:(0,r.jsx)(ei.A,{colSpan:100,children:0===s.length?(0,r.jsx)("p",{style:{textAlign:"center"},children:"Add at least one cycle to begin blowout"}):(0,r.jsxs)(l.A,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(c.A,{onClick:a,disabled:x||0===s.length,children:"Reset table"}),(0,r.jsxs)(l.A,{display:"flex",gap:2,children:[(0,r.jsx)(c.A,{variant:"contained",onClick:g,disabled:!x,children:"Cancel"}),(0,r.jsx)(c.A,{variant:"contained",color:"primary",onClick:y,disabled:x||0===s.length,children:"Start blowout"})]})]})})})]})]})]}):(0,r.jsx)(r.Fragment,{})},eI=()=>{let[e,n]=(0,i.useState)(B),[t,l]=(0,i.useState)(!1),o=V(),s=H(),{setSelectedDevice:a}=$(),d=(0,i.useCallback)(e=>{a(e)},[a]);return(0,i.useEffect)(()=>{(null==o?void 0:o.length)===1&&d(o[0])},[o,d]),(0,r.jsxs)(K.Provider,{value:{winterizeSettings:e,setWinterizeSettings:n},children:[o&&o.length>1&&(0,r.jsx)(ee,{devices:o,onChange:d}),t?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(c.A,{variant:"contained",color:"primary",type:"button",sx:{float:"right"},onClick:()=>l(!t),children:"Training mode"}),(0,r.jsxs)(F.A,{open:t,onClose:()=>{l(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,r.jsx)(_.A,{children:"Blow out sequence trainer"}),(0,r.jsx)(q.A,{children:(0,r.jsx)(eu,{onClose:()=>l(!1)})}),(0,r.jsx)(P.A,{children:(0,r.jsx)(c.A,{onClick:()=>l(!1),color:"primary",children:"Quit"})})]}),s&&(0,r.jsx)(ew,{})]})};function eT(){let e=E(),[n,t]=(0,i.useState)("welcome"),h=(0,i.useCallback)(e=>{t(n=>n===e?null:e)},[]);return(0,i.useEffect)(()=>{e&&h(n)},[e,n,h]),(0,r.jsxs)(l.A,{children:[(0,r.jsx)(o.A,{position:"static",color:"default",elevation:1,children:(0,r.jsxs)(s.A,{sx:{justifyContent:"space-between"},children:[(0,r.jsx)(l.A,{children:(0,r.jsx)(c.A,{onClick:()=>h("welcome"),children:"Welcome"})}),(0,r.jsx)(a.A,{variant:"h6",align:"center",sx:{flex:1},children:"Rachio Winterize"}),(0,r.jsx)(l.A,{sx:{width:120}})," "]})}),(0,r.jsx)(d.A,{in:"welcome"===n,children:(0,r.jsxs)(u.A,{sx:{py:2},children:[(0,r.jsx)(a.A,{variant:"h6",children:"Welcome"}),(0,r.jsx)("p",{children:"Use this app to help you winterize your Rachio sprinkler system by blowing out each zone with air. It is important to follow the recommendations below to prevent damage to your system."}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Air pressure must not exceed 50 pounds per square inch (psi)."}),(0,r.jsx)("li",{children:"Do not run equipment for longer than 1 minute on air."}),(0,r.jsxs)("li",{children:["Default time to blow out each zone: ",35," seconds"]}),(0,r.jsxs)("li",{children:["Default time for air compressor recovery: ",300," seconds"]})]}),(0,r.jsx)(a.A,{})]})}),(0,r.jsx)(u.A,{sx:{mt:4},children:e?(0,r.jsx)(eI,{}):(0,r.jsx)(D,{})})]})}}},e=>{var n=n=>e(e.s=n);e.O(0,[533,202,441,684,358],()=>n(902)),_N_E=e.O()}]);